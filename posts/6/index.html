
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Heew’s iOS Blog</title>
  <meta name="author" content="Heew">

  
  <meta name="description" content="分析界面有几个控件：背景：UIImageView 白色圆圈：按钮（点击他，会出现另外一种图片，按钮可以设置不同状态下的图片。）单独视图：(画线是有范围的，当超出view就不能画线了)
自定义视图，在视图一创建的时候，就添加9个按钮。HYWUnlockView.m中如下 1
2
3
4
5
6
7 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://heeween.github.io/posts/6/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Heew’s iOS Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Heew’s iOS Blog</a></h1>
  
    <h2>A personal blog accounting problems for iOS.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.baidu.com" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="heeween.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013-06-19-shou-shi-jie-suo/">手势解锁</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-19T14:43:32+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>19</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>2:43 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/Snip20150624_6.png" alt="手势解锁" /></p>

<ul>
<li>分析界面有几个控件：背景：UIImageView 白色圆圈：按钮（点击他，会出现另外一种图片，按钮可以设置不同状态下的图片。）单独视图：(画线是有范围的，当超出view就不能画线了)</li>
<li>自定义视图，在视图一创建的时候，就添加9个按钮。HYWUnlockView.m中如下</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)awakeFromNib
</span><span class='line'>{
</span><span class='line'>    
</span><span class='line'>    for (int i = 0; i &lt; 9; i++) {
</span><span class='line'>        UIButton *btn = [UIButton buttonWithType:UIButtonTypeCustom];
</span><span class='line'>        [btn setImage:[UIImage imageNamed:@"gesture_node_normal"] forState:UIControlStateNormal];
</span><span class='line'>        [btn setImage:[UIImage imageNamed:@"gesture_node_highlighted"] forState:UIControlStateSelected];
</span><span class='line'>        btn.userInteractionEnabled = NO;
</span><span class='line'>        btn.tag = i;
</span><span class='line'>        [self addSubview:btn];
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>- (void)layoutSubviews
</span><span class='line'>{
</span><span class='line'>    [super layoutSubviews];
</span><span class='line'>    NSInteger totalCol = sqrt(self.subviews.count);
</span><span class='line'>    CGFloat W = 70;
</span><span class='line'>    CGFloat H = W;
</span><span class='line'>    CGFloat X = 0;
</span><span class='line'>    CGFloat Y = 0;
</span><span class='line'>    NSInteger margin = (self.bounds.size.width - totalCol * W) / (totalCol + 1);
</span><span class='line'>    for (int i = 0; i &lt; self.subviews.count; i++) {
</span><span class='line'>        UIButton *btn = self.subviews[i];
</span><span class='line'>        NSInteger col = i % totalCol;
</span><span class='line'>        NSInteger row = i / totalCol;
</span><span class='line'>        X = margin + col * (margin + W);
</span><span class='line'>        Y = margin + row * (margin + H);
</span><span class='line'>        btn.frame = CGRectMake(X, Y , W, H);
</span><span class='line'>    }
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>圆的选中

<ul>
<li>点击按钮就为选中的图片怎么做？监听按钮点击。</li>
<li>不能addTarget: 不能及时显示选中图片。</li>
<li>给自定义view添加手势</li>
</ul>
</li>
<li>先遍历所有按钮，看触摸点在哪个按钮上，就选中谁，CGRectContainsPoint 传入的参数必须是同一个坐标系</li>
<li>把选中的按钮添加到选中按钮数组中</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)pan:(UIPanGestureRecognizer *)pan
</span><span class='line'>{
</span><span class='line'>    CGPoint curP = [pan locationInView:self];
</span><span class='line'>    self.curP = curP;
</span><span class='line'>    for (UIButton *btn in self.subviews) {
</span><span class='line'>        if (CGRectContainsPoint(btn.frame, curP) && btn.selected == NO) {
</span><span class='line'>            btn.selected = YES;
</span><span class='line'>            [self.selectedButtonArray addObject:btn];
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>    [self setNeedsDisplay];
</span><span class='line'>    if (pan.state == UIGestureRecognizerStateEnded) {
</span><span class='line'>        NSMutableString *str = [NSMutableString string];
</span><span class='line'>        for (UIButton *btn in self.selectedButtonArray) {
</span><span class='line'>            [str appendString:[NSString stringWithFormat:@"%ld",btn.tag]];
</span><span class='line'>        }
</span><span class='line'>        str = nil;
</span><span class='line'>        [self.selectedButtonArray makeObjectsPerformSelector:@selector(setSelected:) withObject:@(NO)];
</span><span class='line'>        self.selectedButtonArray = nil;
</span><span class='line'>    }
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>然后绘制贝斯尔曲线中</li>
<li>先判断是否一个按钮也没有选中,如果是,直接返回</li>
<li>再for循环取出选中按钮数组中的按钮,先连接选中按钮的中心点,绘制图形</li>
<li>再把图形连接到手势移动到得当前点(实时的)</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)drawRect:(CGRect)rect {
</span><span class='line'>    // Drawing code
</span><span class='line'>    if (self.selectedButtonArray.count == 0) return;
</span><span class='line'>    UIBezierPath *path = [UIBezierPath bezierPath];
</span><span class='line'>    for (int i = 0; i &lt; self.selectedButtonArray.count; i++) {
</span><span class='line'>        UIButton *btn = self.selectedButtonArray[i];
</span><span class='line'>        if (i == 0) {
</span><span class='line'>            [path moveToPoint:btn.center];
</span><span class='line'>        }else{
</span><span class='line'>            [path addLineToPoint:btn.center];
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>    [path addLineToPoint:self.curP];
</span><span class='line'>    [[UIColor greenColor] set];
</span><span class='line'>    path.lineWidth = 10;
</span><span class='line'>    path.lineJoinStyle = kCGLineJoinRound;
</span><span class='line'>    [path stroke];
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>这样一个手势解锁的空间就封装好了</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013-06-18-chang-jian-wen-ben-shu-xing-she-zhi/">常见文本属性设置</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-18T15:29:30+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>18</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>3:29 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>   /<em>
     1.控件 UIView UILabel UITextField UITextView UIButton
     2.字体、大小、单位、颜色
     </em>/</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(10, 30, 300, 260)];
</span><span class='line'>label.text = @"Label Text Content, This is a text label things attribute";//默认为空
</span><span class='line'>label.font = [UIFont systemFontOfSize:17];//默认使用系统的17
</span><span class='line'>label.textColor = [UIColor orangeColor];//默认使用文本黑色
</span><span class='line'>label.shadowColor = [UIColor lightGrayColor];//默认没有阴影
</span><span class='line'>label.shadowOffset = CGSizeMake(1,0);//默认是一个向上的阴影(0,-1)
</span><span class='line'>label.textAlignment = NSTextAlignmentCenter;//默认是左对齐
</span><span class='line'>label.lineBreakMode = NSLineBreakByTruncatingTail;//段落样式，默认是最后截断尾巴，用...代替</span></code></pre></td></tr></table></div></figure>


<p>   //富文本的基本数据类型，属性字符串。以此为基础，如果这个设置了相应的属性，则会忽略上面设置的属性，默认为空</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>NSString *string = label.text;
</span><span class='line'>const CGFloat fontSize = 16.0;
</span><span class='line'>NSMutableAttributedString *attrString = [[NSMutableAttributedString alloc] initWithString:string];
</span><span class='line'>NSUInteger length = [string length];
</span><span class='line'>//设置字体
</span><span class='line'>UIFont *baseFont = [UIFont systemFontOfSize:fontSize];
</span><span class='line'>[attrString addAttribute:NSFontAttributeName value:baseFont range:NSMakeRange(0, length)];//设置所有的字体
</span><span class='line'>UIFont *boldFont = [UIFont boldSystemFontOfSize:fontSize];
</span><span class='line'>[attrString addAttribute:NSFontAttributeName value:boldFont range:[string rangeOfString:@"Text"]];//设置Text这四个字母的字体为粗体
</span><span class='line'>//设置倾斜，需要导入coreText
</span><span class='line'>UIFont *italicFont = GetVariationOfFontWithTrait(baseFont,
</span><span class='line'>                                                 kCTFontTraitItalic);
</span><span class='line'>[attrString addAttribute:NSFontAttributeName value:italicFont
</span><span class='line'>                   range:[string rangeOfString:@"Label"]];
</span><span class='line'>// 设置颜色
</span><span class='line'>UIColor *color = [UIColor redColor];
</span><span class='line'>[attrString addAttribute:NSForegroundColorAttributeName
</span><span class='line'>                   value:color
</span><span class='line'>                   range:[string rangeOfString:@"Content"]];
</span><span class='line'>[attrString addAttribute:NSBackgroundColorAttributeName value:[UIColor blueColor] range:[string rangeOfString:@"ent"]];</span></code></pre></td></tr></table></div></figure>


<p>   //可以对这些属性设置值</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>//    label.font = [UIFont fontWithName:@"Arial-BoldItalicMT" size:24];
</span><span class='line'>    [attrString addAttribute:NSFontAttributeName value:[UIFont fontWithName:@"Verdana-BoldItalic" size:18] range:[string rangeOfString:@"Label"]];
</span><span class='line'>    label.numberOfLines = 2;
</span><span class='line'>    NSMutableParagraphStyle *
</span><span class='line'>    style = [[NSParagraphStyle defaultParagraphStyle] mutableCopy];
</span><span class='line'>    style.lineSpacing = 10;//增加行高
</span><span class='line'>    style.headIndent = 10;//头部缩进，相当于左padding
</span><span class='line'>    style.tailIndent = -10;//相当于右padding
</span><span class='line'>    style.lineHeightMultiple = 1.5;//行间距是多少倍
</span><span class='line'>    style.alignment = NSTextAlignmentLeft;//对齐方式
</span><span class='line'>    style.firstLineHeadIndent = 20;//首行头缩进
</span><span class='line'>    style.paragraphSpacing = 10;//段落后面的间距
</span><span class='line'>    style.paragraphSpacingBefore = 20;//段落之前的间距
</span><span class='line'>    [attrString addAttribute:NSParagraphStyleAttributeName value:style range:NSMakeRange(0, length)];
</span><span class='line'>    
</span><span class='line'>    [attrString addAttribute:NSKernAttributeName value:@2 range:NSMakeRange(0, length)];//字符间距 2pt
</span><span class='line'>    [attrString addAttribute:NSStrokeColorAttributeName value:[UIColor blueColor] range:[string rangeOfString:@"is"]];//设置文字描边颜色，需要和NSStrokeWidthAttributeName设置描边宽度，这样就能使文字空心
</span><span class='line'>    [attrString addAttribute:NSStrokeWidthAttributeName value:@2 range:[string rangeOfString:@"is"]];//空心字，文字边框描述
</span><span class='line'>    [attrString addAttribute:NSUnderlineStyleAttributeName value:@(NSUnderlineStyleSingle) range:[string rangeOfString:@"text"]];//下划线
</span><span class='line'>    [attrString addAttribute:NSUnderlineStyleAttributeName value:@(NSUnderlineStyleThick) range:[string rangeOfString:@"label"]];//厚的下划线
</span><span class='line'>    [attrString addAttribute:NSStrikethroughStyleAttributeName value:@(NSUnderlinePatternSolid | NSUnderlineStyleSingle) range:[string rangeOfString:@"things"]];//删除线
</span><span class='line'>    [attrString addAttribute:NSStrikethroughColorAttributeName value:[UIColor blueColor] range:[string rangeOfString:@"things"]];//删除线蓝色
</span><span class='line'>   label.attributedText = attrString;
</span><span class='line'>    
</span><span class='line'>    label.highlightedTextColor = [UIColor redColor];//设置文本高亮显示颜色，与highlighted一起使用。
</span><span class='line'>    label.highlighted = NO; //高亮状态是否打开
</span><span class='line'>    label.enabled = YES;//设置文字内容是否可变
</span><span class='line'>    label.userInteractionEnabled = YES;//设置标签是否忽略或移除用户交互。默认为NO
</span><span class='line'>    label.baselineAdjustment = UIBaselineAdjustmentNone;//如果adjustsFontSizeToFitWidth属性设置为YES，这个属性就来控制文本基线的行为。
</span><span class='line'>//    UIBaselineAdjustmentAlignBaselines=0，默认，文本最上端与中线对齐。
</span><span class='line'>//    UIBaselineAdjustmentAlignCenters,   文本中线与label中线对齐。
</span><span class='line'>//    UIBaselineAdjustmentNone,  文本最低端与label中线对齐。;
</span><span class='line'>    [self.view addSubview:label];
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>字体名如下：</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>   Font Family: American Typewriter
</span><span class='line'>   Font: AmericanTypewriter
</span><span class='line'>   Font: AmericanTypewriter-Bold
</span><span class='line'>   
</span><span class='line'>   Font Family: AppleGothic
</span><span class='line'>   Font: AppleGothic
</span><span class='line'>   
</span><span class='line'>   Font Family: Arial
</span><span class='line'>   Font: ArialMT
</span><span class='line'>   Font: Arial-BoldMT
</span><span class='line'>   Font: Arial-BoldItalicMT
</span><span class='line'>   Font: Arial-ItalicMT
</span><span class='line'>   
</span><span class='line'>   Font Family: Arial Rounded MT Bold
</span><span class='line'>   Font: ArialRoundedMTBold
</span><span class='line'>   
</span><span class='line'>   Font Family: Arial Unicode MS
</span><span class='line'>   Font: ArialUnicodeMS
</span><span class='line'>   
</span><span class='line'>   Font Family: Courier
</span><span class='line'>   Font: Courier
</span><span class='line'>   Font: Courier-BoldOblique
</span><span class='line'>   Font: Courier-Oblique
</span><span class='line'>   Font: Courier-Bold
</span><span class='line'>   
</span><span class='line'>   Font Family: Courier New
</span><span class='line'>   Font: CourierNewPS-BoldMT
</span><span class='line'>   Font: CourierNewPS-ItalicMT
</span><span class='line'>   Font: CourierNewPS-BoldItalicMT
</span><span class='line'>   Font: CourierNewPSMT
</span><span class='line'>   
</span><span class='line'>   Font Family: DB LCD Temp
</span><span class='line'>   Font: DBLCDTempBlack
</span><span class='line'>   
</span><span class='line'>   Font Family: Georgia
</span><span class='line'>   Font: Georgia-Bold
</span><span class='line'>   Font: Georgia
</span><span class='line'>   Font: Georgia-BoldItalic
</span><span class='line'>   Font: Georgia-Italic
</span><span class='line'>   
</span><span class='line'>   Font Family: Helvetica
</span><span class='line'>   Font: Helvetica-Oblique
</span><span class='line'>   Font: Helvetica-BoldOblique
</span><span class='line'>   Font: Helvetica
</span><span class='line'>   Font: Helvetica-Bold
</span><span class='line'>   
</span><span class='line'>   Font Family: Helvetica Neue
</span><span class='line'>   Font: HelveticaNeue
</span><span class='line'>   Font: HelveticaNeue-Bold
</span><span class='line'>   
</span><span class='line'>   Font Family: Hiragino Kaku Gothic **** W3
</span><span class='line'>   Font: HiraKakuProN-W3
</span><span class='line'>   
</span><span class='line'>   Font Family: Hiragino Kaku Gothic **** W6
</span><span class='line'>   Font: HiraKakuProN-W6
</span><span class='line'>   
</span><span class='line'>   Font Family: Marker Felt
</span><span class='line'>   Font: MarkerFelt-Thin
</span><span class='line'>   
</span><span class='line'>   Font Family: STHeiti J
</span><span class='line'>   Font: STHeitiJ-Medium
</span><span class='line'>   Font: STHeitiJ-Light
</span><span class='line'>   
</span><span class='line'>   Font Family: STHeiti K
</span><span class='line'>   Font: STHeitiK-Medium
</span><span class='line'>   Font: STHeitiK-Light
</span><span class='line'>   
</span><span class='line'>   Font Family: STHeiti SC
</span><span class='line'>   Font: STHeitiSC-Medium
</span><span class='line'>   Font: STHeitiSC-Light
</span><span class='line'>   
</span><span class='line'>   Font Family: STHeiti TC
</span><span class='line'>   Font: STHeitiTC-Light
</span><span class='line'>   Font: STHeitiTC-Medium
</span><span class='line'>   
</span><span class='line'>   Font Family: Times New Roman
</span><span class='line'>   Font: TimesNewRomanPSMT
</span><span class='line'>   Font: TimesNewRomanPS-BoldMT
</span><span class='line'>   Font: TimesNewRomanPS-BoldItalicMT
</span><span class='line'>   Font: TimesNewRomanPS-ItalicMT
</span><span class='line'>   
</span><span class='line'>   Font Family: Trebuchet MS
</span><span class='line'>   Font: TrebuchetMS-Italic
</span><span class='line'>   Font: TrebuchetMS
</span><span class='line'>   Font: Trebuchet-BoldItalic
</span><span class='line'>   Font: TrebuchetMS-Bold
</span><span class='line'>   
</span><span class='line'>   Font Family: Verdana
</span><span class='line'>   Font: Verdana-Bold
</span><span class='line'>   Font: Verdana-BoldItalic
</span><span class='line'>   Font: Verdana
</span><span class='line'>   Font: Verdana-Italic
</span><span class='line'>   
</span><span class='line'>   Font Family: Zapfino
</span><span class='line'>   Font: Zapfino
</span><span class='line'>   */</span></code></pre></td></tr></table></div></figure>


<ul>
<li>文本对齐方式</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/* Values for NSTextAlignment */
</span><span class='line'> /*
</span><span class='line'> NSTextAlignmentLeft 左对齐
</span><span class='line'> NSTextAlignmentCenter 剧中对齐
</span><span class='line'> NSTextAlignmentRight 右对齐
</span><span class='line'> NSTextAlignmentJustified 两端对齐
</span><span class='line'> NSTextAlignmentNatural 根据显示的文字特性对齐
</span><span class='line'> */</span></code></pre></td></tr></table></div></figure>


<ul>
<li>段落样式</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>lineSpacing;                         来增加行距
</span><span class='line'>paragraphSpacing;
</span><span class='line'>alignment;                           对齐
</span><span class='line'>firstLineHeadIndent;                 段落开始的缩排像素
</span><span class='line'>headIndent;                          可调整全部文字的缩排距离，可当作左边 padding 使用
</span><span class='line'>tailIndent;                          可调整文字尾端的缩排距离。需要注意的是，这里指定的值可以当作文字显示的宽、而也可当作右边 padding 使用，依据输入的正负值而定：
</span><span class='line'>lineBreakMode;
</span><span class='line'>minimumLineHeight;
</span><span class='line'>maximumLineHeight;        而针对不同的字型与字号，我们可以透过指定最大与最小行距（maximumLineHeight 与 minimumLineHeight）来避免过高或过窄的状况发生。
</span><span class='line'>baseWritingDirection;
</span><span class='line'>lineHeightMultiple;                  想要调整行距，可以透过搭配使用 lineHeightMultiple 更改行距倍数
</span><span class='line'>paragraphSpacingBefore; 而若是文章内容有分段落的话，也可以透过指定段落结尾距离（paragraphSpacing）以及段落开头距离（paragraphSpacingBefore）:
</span><span class='line'>hyphenationFactor;
</span><span class='line'>@property(readwrite,copy,NS_NONATOMIC_IOSONLY) NSArray *tabStops NS_AVAILABLE_IOS(7_0);
</span><span class='line'>@property(readwrite,NS_NONATOMIC_IOSONLY) CGFloat defaultTabInterval NS_AVAILABLE_IOS(7_0);
</span><span class='line'> */   
</span><span class='line'>/* Predefined character attributes for text. If the key is not in the dictionary, then use the default values as described below.  //预定义的文本属性值，如果键不是一个字典，那么使用默认的值作为以下描述
</span><span class='line'>NSFontAttributeName 字体 默认是Helvetica 12号
</span><span class='line'>NSParagraphStyleAttributeName 段落样式
</span><span class='line'>*/
</span><span class='line'>/*
</span><span class='line'>UIKIT_EXTERN NSString *const  NS_AVAILABLE_IOS(6_0);      // NSParagraphStyle, default defaultParagraphStyle
</span><span class='line'>UIKIT_EXTERN NSString *const NSForegroundColorAttributeName NS_AVAILABLE_IOS(6_0);     // UIColor, default blackColor
</span><span class='line'>UIKIT_EXTERN NSString *const NSBackgroundColorAttributeName NS_AVAILABLE_IOS(6_0);     // UIColor, default nil: no background
</span><span class='line'>UIKIT_EXTERN NSString *const NSLigatureAttributeName NS_AVAILABLE_IOS(6_0);            // NSNumber containing integer, default 1: default ligatures, 0: no ligatures
</span><span class='line'>UIKIT_EXTERN NSString *const NSKernAttributeName NS_AVAILABLE_IOS(6_0);                // NSNumber containing floating point value, in points; amount to modify default kerning. 0 means kerning is disabled. (note: values other than nil and 0 are unsupported on iOS)
</span><span class='line'>UIKIT_EXTERN NSString *const NSStrikethroughStyleAttributeName NS_AVAILABLE_IOS(6_0);  // NSNumber containing integer, default 0: no strikethrough
</span><span class='line'>UIKIT_EXTERN NSString *const NSUnderlineStyleAttributeName NS_AVAILABLE_IOS(6_0);      // NSNumber containing integer, default 0: no underline
</span><span class='line'>UIKIT_EXTERN NSString *const NSStrokeColorAttributeName NS_AVAILABLE_IOS(6_0);         // UIColor, default nil: same as foreground color
</span><span class='line'>UIKIT_EXTERN NSString *const NSStrokeWidthAttributeName NS_AVAILABLE_IOS(6_0);         // NSNumber containing floating point value, in percent of font point size, default 0: no stroke; positive for stroke alone, negative for stroke and fill (a typical value for outlined text would be 3.0)
</span><span class='line'>UIKIT_EXTERN NSString *const NSShadowAttributeName NS_AVAILABLE_IOS(6_0);              // NSShadow, default nil: no shadow
</span><span class='line'>UIKIT_EXTERN NSString *const NSTextEffectAttributeName NS_AVAILABLE_IOS(7_0);          // NSString, default nil: no text effect
</span><span class='line'>
</span><span class='line'>UIKIT_EXTERN NSString *const NSAttachmentAttributeName NS_AVAILABLE_IOS(7_0);          // NSTextAttachment, default nil
</span><span class='line'>UIKIT_EXTERN NSString *const NSLinkAttributeName NS_AVAILABLE_IOS(7_0);                // NSURL (preferred) or NSString
</span><span class='line'>UIKIT_EXTERN NSString *const NSBaselineOffsetAttributeName NS_AVAILABLE_IOS(7_0);      // NSNumber containing floating point value, in points; offset from baseline, default 0
</span><span class='line'>UIKIT_EXTERN NSString *const NSUnderlineColorAttributeName NS_AVAILABLE_IOS(7_0);      // UIColor, default nil: same as foreground color
</span><span class='line'>UIKIT_EXTERN NSString *const NSStrikethroughColorAttributeName NS_AVAILABLE_IOS(7_0);  // UIColor, default nil: same as foreground color
</span><span class='line'>UIKIT_EXTERN NSString *const NSObliquenessAttributeName NS_AVAILABLE_IOS(7_0);         // NSNumber containing floating point value; skew to be applied to glyphs, default 0: no skew
</span><span class='line'>UIKIT_EXTERN NSString *const NSExpansionAttributeName NS_AVAILABLE_IOS(7_0);           // NSNumber containing floating point value; log of expansion factor to be applied to glyphs, default 0: no expansion
</span><span class='line'>
</span><span class='line'>UIKIT_EXTERN NSString *const NSWritingDirectionAttributeName NS_AVAILABLE_IOS(7_0);    // NSArray of NSNumbers representing the nested levels of writing direction overrides as defined by Unicode LRE, RLE, LRO, and RLO characters.  The control characters can be obtained by masking NSWritingDirection and NSTextWritingDirection values.  LRE: NSWritingDirectionLeftToRight|NSTextWritingDirectionEmbedding, RLE: NSWritingDirectionRightToLeft|NSTextWritingDirectionEmbedding, LRO: NSWritingDirectionLeftToRight|NSTextWritingDirectionOverride, RLO: NSWritingDirectionRightToLeft|NSTextWritingDirectionOverride,
</span><span class='line'>
</span><span class='line'>UIKIT_EXTERN NSString *const NSVerticalGlyphFormAttributeName NS_AVAILABLE_IOS(6_0);   // An NSNumber containing an integer value.  0 means horizontal text.  1 indicates vertical text.  If not specified, it could follow higher-level vertical orientation settings.  Currently on iOS, it's always horizontal.  The behavior for any other value is undefined.
</span><span class='line'>*/</span></code></pre></td></tr></table></div></figure>


<p></p>

<ul>
<li>NSParagraphStyle  段落样式</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>//    typedef NS_ENUM(NSInteger, NSLineBreakMode) {      /* What to do with long lines */ //对于长内容或多行内容的处理方式
</span><span class='line'>//        NSLineBreakByWordWrapping = 0,      /* Wrap at word boundaries, default */   //按包含单词为界限截断
</span><span class='line'>//        NSLineBreakByCharWrapping,      /* Wrap at character boundaries */           //按字符为界限截断
</span><span class='line'>//        NSLineBreakByClipping,      /* Simply clip */                                //简单的修剪
</span><span class='line'>//        NSLineBreakByTruncatingHead,    /* Truncate at head of line: "...wxyz" */        //截断头部
</span><span class='line'>//        NSLineBreakByTruncatingTail,    /* Truncate at tail of line: "abcd..." */        //截断尾巴
</span><span class='line'>//        NSLineBreakByTruncatingMiddle   /* Truncate middle of line:  "ab...yz" */        //截断中间
</span><span class='line'>//    } NS_ENUM_AVAILABLE_IOS(6_0);
</span><span class='line'>}
</span><span class='line'>//获取斜体
</span><span class='line'>UIFont * GetVariationOfFontWithTrait(UIFont *baseFont,
</span><span class='line'>                                     CTFontSymbolicTraits trait) {
</span><span class='line'>CGFloat fontSize = [baseFont pointSize];
</span><span class='line'>CFStringRef
</span><span class='line'>baseFontName = (__bridge CFStringRef)[baseFont fontName];
</span><span class='line'>CTFontRef baseCTFont = CTFontCreateWithName(baseFontName,
</span><span class='line'>                                            fontSize, NULL);
</span><span class='line'>CTFontRef ctFont =
</span><span class='line'>CTFontCreateCopyWithSymbolicTraits(baseCTFont, 0, NULL,
</span><span class='line'>                                   trait, trait);
</span><span class='line'>NSString *variantFontName =
</span><span class='line'>CFBridgingRelease(CTFontCopyName(ctFont,
</span><span class='line'>                                 kCTFontPostScriptNameKey));
</span><span class='line'>
</span><span class='line'>UIFont *variantFont = [UIFont fontWithName:variantFontName
</span><span class='line'>                                      size:fontSize];
</span><span class='line'>CFRelease(ctFont);
</span><span class='line'>CFRelease(baseCTFont);
</span><span class='line'>return variantFont;
</span><span class='line'>};</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013-06-12-duo-kong-zhi-qi-zhi-jian-shu-ju-chuan-di/">多控制器之间数据传递</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-12T18:26:47+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>12</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>6:26 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>app有很多界面,如果A界面修改了数据某个值,如何保证B界面的数据也能被修改</h3>

<p>通常想法如下:</p>

<ul>
<li>给A控制器增加一个成员变量指向B</li>
<li>创建B界面的时候就赋值给这个变量</li>
<li>当A修改了数据以后,调用成员变量的方法更新B界面的数据</li>
</ul>


<p><strong>搭建界面如下</strong></p>

<p><img src="../../images/addressList3.png" alt="通讯录界面跳转" /><img src="/images/addressList1.png" alt="通讯录界面跳转" /><img src="/images/addressList2.png" alt="通讯录界面跳转" /></p>

<p><strong>在A界面HYWAddController.h文件中增加变量指向B</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>@class HYWContact,HYWContactController;
</span><span class='line'>/**拥有联系人控制器,以便传递模型 */
</span><span class='line'>@property (nonatomic, strong) HYWContactController *contactVc;</span></code></pre></td></tr></table></div></figure>


<p><strong>在B界面HYWContactController.h文件中,增加模型属性,重写set方法,接收A传过来得数据</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/**模型 */
</span><span class='line'>@property (nonatomic, strong) HYWContact *contact;</span></code></pre></td></tr></table></div></figure>


<p><strong>在B界面HYWContactController.m文件中,创建B界面push的时候,将A赋值给B界面的变量,并且重写set方法</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)add
</span><span class='line'>{
</span><span class='line'>    HYWAddController *addVc = [[HYWAddController alloc] init];
</span><span class='line'>    addVc.title = @"添加通讯录";
</span><span class='line'>    addVc.contactVc = self;
</span><span class='line'>    [self.navigationController pushViewController:addVc animated:YES];
</span><span class='line'>}
</span><span class='line'>- (void)setContact:(HYWContact *)contact
</span><span class='line'>{
</span><span class='line'>    _contact = contact;
</span><span class='line'>    [self.contacts addObject:contact];
</span><span class='line'>    [self.tableView reloadData];
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p><strong>A界面跳转的时候,修改模型,并通过成员变量调取B界面,并且调用set方法,进行赋值</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (IBAction)addContact:(id)sender {
</span><span class='line'>  // 修改数据
</span><span class='line'>    HYWContact *contact = [[HYWContact alloc] init];
</span><span class='line'>    contact.name = self.nameTextField.text;
</span><span class='line'>    contact.phone = self.phoneTextField.text;
</span><span class='line'>    contact.icon = @"180008225874";
</span><span class='line'>    
</span><span class='line'>    // 调取B界面,调用set方法更新数据
</span><span class='line'>    self.contactVc.contact = contact;
</span><span class='line'>
</span><span class='line'>  从A界面跳到B界面
</span><span class='line'>    [self.navigationController popViewControllerAnimated:YES];
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p><img src="../../images/addressList4.png" alt="通讯录传递数据" /><img src="/images/addressList5.png" alt="通讯录传递数据" /></p>

<h3>这种想法比较简单,但是实现复杂,而且A界面和B界面耦合性太强,利用代理传递数据进行解耦</h3>

<ul>
<li>A界面增加代理属性,代理方法</li>
<li>当数据更新后,通知代理更新了数据</li>
<li>任何一个对象只要成为A的代理,就可以获得A传过来的数据</li>
</ul>


<p><strong>在A界面HYWAddController.h中增加代理属性和代理方法</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#import &lt;UIKit/UIKit.h&gt;
</span><span class='line'>@class HYWAddController,HYWContact;
</span><span class='line'>
</span><span class='line'>@protocol HYWAddControllerDelegate &lt;NSObject&gt;
</span><span class='line'>
</span><span class='line'>@optional
</span><span class='line'>
</span><span class='line'>- (void)addControllerDidClickAddButton:(HYWAddController *)addVc withContact:(HYWContact *)contact;
</span><span class='line'>@end
</span><span class='line'>
</span><span class='line'>@interface HYWAddController : UIViewController
</span><span class='line'>
</span><span class='line'>/**代理 */
</span><span class='line'>@property (nonatomic, weak) id &lt;HYWAddControllerDelegate&gt; delegate;
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>@end</span></code></pre></td></tr></table></div></figure>


<p><strong>当A跳转的时候,更新数据,并通知代理,数据作为参数传递出去</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (IBAction)addContact:(id)sender {
</span><span class='line'>    HYWContact *contact = [[HYWContact alloc] init];
</span><span class='line'>    contact.name = self.nameTextField.text;
</span><span class='line'>    contact.phone = self.phoneTextField.text;
</span><span class='line'>    contact.icon = @"180008225874";
</span><span class='line'>    
</span><span class='line'>    if ([self.delegate respondsToSelector:@selector(addControllerDidClickAddButton:withContact:)]) {
</span><span class='line'>        [self.delegate addControllerDidClickAddButton:self withContact:contact];
</span><span class='line'>    }
</span><span class='line'>    [self.navigationController popViewControllerAnimated:YES];
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p><strong>在B界面HYWContactController.m文件中,设置为A的代理,并实现A的代理方法,后去传过来的数据</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>@interface HYWContactController () &lt;HYWAddControllerDelegate&gt;
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>- (void)add
</span><span class='line'>{
</span><span class='line'>    HYWAddController *addVc = [[HYWAddController alloc] init];
</span><span class='line'>    addVc.delegate = self;
</span><span class='line'>    addVc.title = @"添加通讯录";
</span><span class='line'>    [self.navigationController pushViewController:addVc animated:YES];
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>#pragma mark - HYWAddControllerDelegate 代理方法
</span><span class='line'>
</span><span class='line'>- (void)addControllerDidClickAddButton:(HYWAddController *)addVc withContact:(HYWContact *)contact
</span><span class='line'>{
</span><span class='line'>    [self.contacts addObject:contact];
</span><span class='line'>    [self.tableView reloadData];
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p><img src="../../images/addressList6.png" alt="通讯录数据传递" /><img src="/images/addressList7.png" alt="通讯录数据传递" /></p>

<h2>代理方法更简单,A传递数据,B成为代理就可以接受,不成为代理就与A没有关系,就算成为A的代理,不实现代理方法还是与A没有关系.成功地接触了A和B的耦合性</h2>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013-06-11-duo-kong-zhi-qi-zhong-ge-chong-zi-ding-yi-de-keng/">多控制器中tabbar自定义的方法优化</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-11T13:17:05+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>11</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>1:17 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>如何修改tabBar控制器中tabBar的布局</h3>

<p>常见的方法如下:</p>

<ul>
<li>自定义一个tabBar继承自UITabBar</li>
<li>用xib布局子控件(注意要绑定对应控件的tag)</li>
<li>给外界提供一个类方法快速构造一个对象</li>
<li>在controller中添加为属性tabBar的子控件</li>
<li>tabBar的按钮监听点击,并通过代理设置tabBarcontroller的切换</li>
<li>注意点:

<ul>
<li>可以直接在类方法中写死子控件属性,</li>
<li>也可以给自定义增加一个成员变量,让外界设置tabBar对象子控件属性</li>
</ul>
</li>
</ul>


<p>但是想实现如下效果图,代码量会很大,很麻烦,直接上代码</p>

<p><img src="../../images/weiboTabbar.png" alt="weiboTabbar" /></p>

<ul>
<li>快速构造方法</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>+ (instancetype)tabBar
</span><span class='line'>{
</span><span class='line'>    HYWTabBar *tabBar = [[[NSBundle mainBundle] loadNibNamed:@"HYWTabBar" owner:nil options:nil] lastObject];
</span><span class='line'>    
</span><span class='line'>    for (int i = 0; i &lt; 5; i++) {
</span><span class='line'>        UIButton *btn = tabBar.subviews[i];
</span><span class='line'>        if (i == 2) {
</span><span class='line'>        [btn setBackgroundImage:[UIImage imageNamed:@"tabbar_compose_button"] forState:UIControlStateNormal];
</span><span class='line'>        [btn setBackgroundImage:[UIImage imageNamed:@"tabbar_compose_button_highlighted"] forState:UIControlStateHighlighted];
</span><span class='line'>        };
</span><span class='line'>        
</span><span class='line'>        [btn addTarget:tabBar action:@selector(buttonClick:) forControlEvents:UIControlEventTouchDown];
</span><span class='line'>        
</span><span class='line'>        if (i == 0) {
</span><span class='line'>            [tabBar buttonClick:btn];
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>    
</span><span class='line'>    return tabBar;
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>set方法(添加成员变量代码省略不上传了)</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)setIconNames:(NSArray *)iconNames
</span><span class='line'>{
</span><span class='line'>    _iconNames = iconNames;
</span><span class='line'>    for (int i = 0; i &lt; iconNames.count; i++) {
</span><span class='line'>        UIButton *btn = self.subviews[i];
</span><span class='line'>        
</span><span class='line'>        [btn setImage:[UIImage imageNamed:iconNames[i]] forState:UIControlStateNormal];
</span><span class='line'>        [btn setContentMode:UIViewContentModeScaleAspectFit];
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>- (void)setSelectedIconNames:(NSArray *)selectedIconNames
</span><span class='line'>{
</span><span class='line'>    _selectedIconNames = selectedIconNames;
</span><span class='line'>    for (int i = 0; i &lt; selectedIconNames.count; i++) {
</span><span class='line'>        UIButton *btn = self.subviews[i];
</span><span class='line'>    [btn setImage:[UIImage imageNamed:selectedIconNames[i]] forState:UIControlStateSelected];
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>监听点击,并让代理切换控制器</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)buttonClick:(UIButton *)btn
</span><span class='line'>{
</span><span class='line'>    self.selectedButton.selected = NO;
</span><span class='line'>    btn.selected = YES;
</span><span class='line'>    self.selectedButton = btn;
</span><span class='line'>    if ([self.delegate respondsToSelector:@selector(tabBarDidSelectButton:)]) {
</span><span class='line'>        [self.delegate tabBarDidSelectButton:btn];
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>控制器中创建和调用控件的set方法</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>HYWTabBar *mytabBar = [HYWTabBar tabBar];
</span><span class='line'>mytabBar.delegate = self;
</span><span class='line'>mytabBar.frame = self.tabBar.bounds;
</span><span class='line'>[self.tabBar addSubview:mytabBar];
</span><span class='line'>
</span><span class='line'>mytabBar.iconNames = @[@"tabbar_home",@"tabbar_message_center",@"tabbar_compose_icon_add",@"tabbar_discover",@"tabbar_profile"];
</span><span class='line'>
</span><span class='line'>mytabBar.selectedIconNames = @[@"tabbar_home_selected",@"tabbar_message_center_selected",@"tabbar_compose_icon_add_highlighted",@"tabbar_discover_selected",@"tabbar_profile_selected"];</span></code></pre></td></tr></table></div></figure>


<ul>
<li>控制器实现tabBar的代理方法切换控制器</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)tabBarDidSelectButton:(UIButton *)btn
</span><span class='line'>{
</span><span class='line'>    self.selectedIndex = btn.tag;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p><img src="../../images/weiboTabbar2.png" alt="weibotabbar" /></p>

<h3>第一个问题出现了 想设置标题怎么设置,给控件再增加一个接口方法,设置标题?</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)buttonClick:(UIButton *)btn
</span><span class='line'>{
</span><span class='line'>    self.selectedButton.selected = NO;
</span><span class='line'>    btn.selected = YES;
</span><span class='line'>    self.selectedButton = btn;
</span><span class='line'>    if ([self.delegate respondsToSelector:@selector(tabBarDidSelectButton:)]) {
</span><span class='line'>        [self.delegate tabBarDidSelectButton:btn];
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>运行结果</p>

<p><img src="../../images/weiboTabbar3.png" alt="weiboTabbar" /></p>

<h3>立马引发第二个问题,如何设置标题在图片下面显示</h3>

<ul>
<li>默认button的imageView显示左边,titlelabel显示右边</li>
<li>修改有两中办法,一,通过自定义button,重写</li>
<li>(CGRect)imageRectForContentRect:(CGRect)contentRect</li>
<li>(CGRect)titleRectForContentRect:(CGRect)contentRect</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (CGRect)imageRectForContentRect:(CGRect)contentRect
</span><span class='line'>{
</span><span class='line'>   return CGRectMake(23, 5, 30, 30);
</span><span class='line'>}
</span><span class='line'>- (CGRect)titleRectForContentRect:(CGRect)contentRect
</span><span class='line'>{
</span><span class='line'>    return CGRectMake(23, 30, 30, 19);
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p><img src="../../images/weiboTabbar4.png" alt="weibotabbar" /></p>

<p>横屏之后也是可以的</p>

<p><img src="../../images/weiboTabbar5.png" alt="weibotabbar" /></p>

<h3>另一种简化的方法&mdash;KVC大招</h3>

<ul>
<li>直接用自定义的tabBar修改UITabBarController的属性tabBar</li>
<li><p>然后在自定义tabBar的layoutsubviews中布局子控件</p></li>
<li><p>控制器中添加子控制器</p></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[self addOneChildViewController:[HYWHomeController class] title:@"首页" image:@"tabbar_home" selectedImage:@"tabbar_home_selected"];
</span><span class='line'>[self addOneChildViewController:[HYWMesageController class] title:@"消息" image:@"tabbar_message_center" selectedImage:@"tabbar_message_center_selected"];
</span><span class='line'>[self addOneChildViewController:[HYWDiscoverController class] title:@"发现" image:@"tabbar_discover" selectedImage:@"tabbar_discover_selected"];
</span><span class='line'>[self addOneChildViewController:[HYWProfileController class] title:@"我" image:@"tabbar_profile" selectedImage:@"tabbar_profile_selected"];
</span><span class='line'>
</span><span class='line'>HYWMytab *mytab = [[HYWMytab alloc] init];
</span><span class='line'>[self setValue:mytab forKeyPath:@"tabBar"];</span></code></pre></td></tr></table></div></figure>


<ul>
<li>自定义tabBar中覆盖layoutsubviews方法</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)layoutSubviews
</span><span class='line'>{
</span><span class='line'>    [super layoutSubviews];
</span><span class='line'>    
</span><span class='line'>    CGFloat buttonW = self.frame.size.width / 5;
</span><span class='line'>    CGFloat buttonH = self.frame.size.height;
</span><span class='line'>    int buttonIndex = 0;
</span><span class='line'>    for (UIView *child in self.subviews) {
</span><span class='line'>        if ([child isKindOfClass:[UIControl class]] && ![child isKindOfClass:[UIButton class]]){
</span><span class='line'>            
</span><span class='line'>            CGFloat buttonX = buttonW * buttonIndex;
</span><span class='line'>            child.frame = CGRectMake(buttonX, 0, buttonW, buttonH);
</span><span class='line'>            
</span><span class='line'>            // 增加索引
</span><span class='line'>            buttonIndex++;
</span><span class='line'>            if (buttonIndex == 2) {
</span><span class='line'>                buttonIndex++;
</span><span class='line'>            }
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>    
</span><span class='line'>    /** 设置加号按钮的位置和尺寸 */
</span><span class='line'>    CGRect rect = self.plusButton.frame;
</span><span class='line'>    rect.size = self.plusButton.currentBackgroundImage.size;
</span><span class='line'>    self.plusButton.frame = rect;
</span><span class='line'>    self.plusButton.center = CGPointMake(self.frame.size.width * 0.5, self.frame.size.height * 0.5);
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>效果也一样好</li>
</ul>


<p><img src="../../images/weiboTabbar6.png" alt="weiboTabbar" /></p>

<p>横屏效果</p>

<p><img src="../../images/weiboTabbar7.png" alt="weiboTabbar" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013-06-10-cheng-xu-tiao-zhuan-cheng-xu-hou-tai-shou-ji-zhuang-tai-lan/">程序跳转程序后台手机状态栏</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-10T09:02:31+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>9:02 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>iOS8之后程序未读消息提示badge主动权交给用户</h3>

<p><img src="../../images/badgeMessage.png" alt="badgeMessage" /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>UIApplication *app = [UIApplication sharedApplication];
</span><span class='line'>app.applicationIconBadgeNumber = 10;
</span><span class='line'>UIUserNotificationSettings *setting = [UIUserNotificationSettings settingsForTypes:UIUserNotificationTypeBadge categories:nil];
</span><span class='line'>[app registerUserNotificationSettings:setting];</span></code></pre></td></tr></table></div></figure>


<ul>
<li>iOS8之后必须有如下代码来实现badge提示</li>
<li>也意味着是否提示由用户来确认,不会写死,影响用户体验</li>
</ul>


<p><img src="../../images/badgeNumber.png" alt="badgeNumber" /></p>

<h3>info.plist注意事项</h3>

<ul>
<li><p>Localiztion native development region(CFBundleDevelopmentRegion)-本地化相关</p></li>
<li><p>Bundle display name(CFBundleDisplayName)-程序安装后显示的名称,限制在10－12个字符，如果超出，将被显示缩写名称</p></li>
<li><p>Icon file(CFBundleIconFile)-app图标名称,一般为Icon.png</p></li>
<li><p>Bundle version(CFBundleShortVersionString)-应用程序的版本号，每次往App Store上发布一个新版本时，需要增加这个版本号</p></li>
<li><p>Main storyboard file base name(NSMainStoryboardFile)-主storyboard文件的名称</p></li>
<li><p>Bundle identifier(CFBundleIdentifier)-项目的唯一标识，部署到真机时用到</p></li>
</ul>


<h3>UIWindow注意事项</h3>

<ul>
<li><p>[UIApplication sharedApplication].windows
在本应用中打开的UIWindow列表，这样就可以接触应用中的任何一个UIView对象
(平时输入文字弹出的键盘，就处在一个新的UIWindow中)</p></li>
<li><p>[UIApplication sharedApplication].keyWindow
用来接收键盘以及非触摸类的消息事件的UIWindow，而且程序中每个时刻只能有一个UIWindow是keyWindow。如果某个UIWindow内部的文本框不能输入文字，可能是因为这个UIWindow不是keyWindow</p></li>
<li><p>view.window
获得某个UIView所在的UIWindow</p></li>
</ul>


<h3>UITabBarController通常是作为整个程序的rootViewController</h3>

<ul>
<li><p>创建一个自定义HYWTabBarController对象</p></li>
<li><p>通过设置UITabBarController对象为window.rootViewController，然后显示window</p></li>
<li><p>在自定义tabbarcontroller中添加child控制器</p></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
</span><span class='line'>    
</span><span class='line'>    // 这是自定义TabBarcontroller为主窗口根控制器
</span><span class='line'>    UIWindow *window = [[UIWindow alloc] init];
</span><span class='line'>    window.frame = [UIScreen mainScreen].bounds;
</span><span class='line'>    HYWTabBarController *tabBarVc = [[HYWTabBarController alloc] init];
</span><span class='line'>    window.rootViewController = tabBarVc;
</span><span class='line'>    
</span><span class='line'>    
</span><span class='line'>    // 显示主窗口
</span><span class='line'>    self.window = window;
</span><span class='line'>    [self.window makeKeyAndVisible];
</span><span class='line'>    return YES;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>在自定义TabBar控制器中设置子控制器</li>
</ul>


<p>效果如下
<img src="../../images/tabBar.png" alt="tabBar" /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)viewDidLoad {
</span><span class='line'>    [super viewDidLoad];
</span><span class='line'>    
</span><span class='line'>    UIViewController *oneVc,*twoVc,*threeVc,*fourVc,*fiveVc;
</span><span class='line'>    oneVc = [[UIViewController alloc] init];
</span><span class='line'>    oneVc.tabBarItem.image = [UIImage imageNamed:@"tab_recent_nor"];
</span><span class='line'>    oneVc.title = @"消息";
</span><span class='line'>    oneVc.view.backgroundColor = HYWRandomColor;
</span><span class='line'>    twoVc = [[UIViewController alloc] init];
</span><span class='line'>    twoVc.tabBarItem.image = [UIImage imageNamed:@"tab_buddy_nor"];
</span><span class='line'>    twoVc.title = @"联系人";
</span><span class='line'>    twoVc.view.backgroundColor = HYWRandomColor;
</span><span class='line'>    threeVc = [[UIViewController alloc] init];
</span><span class='line'>    threeVc.tabBarItem.image = [UIImage imageNamed:@"tab_qworld_nor"];
</span><span class='line'>    threeVc.title = @"动态";
</span><span class='line'>    threeVc.view.backgroundColor = HYWRandomColor;
</span><span class='line'>    fourVc = [[UIViewController alloc] init];
</span><span class='line'>    fourVc.tabBarItem.image = [UIImage imageNamed:@"tab_me_nor"];
</span><span class='line'>    fourVc.title = @"设置";
</span><span class='line'>    fourVc.view.backgroundColor = HYWRandomColor;
</span><span class='line'>    fiveVc = [[UIViewController alloc] init];
</span><span class='line'>    
</span><span class='line'>    self.viewControllers = @[oneVc,twoVc,threeVc,fourVc];
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013-06-09-yong-pickerviewzi-ding-yi-%5B%3F%5D-ge-ri-qi-xuan-ze-jian-pan/">用pickerView自定义一个日期选择键盘</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-09T15:03:35+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>9</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>3:03 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>自定义键盘主要是修改textfield的inputView属性</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)setUpBirthdayKeyboard
</span><span class='line'>{
</span><span class='line'>    UIDatePicker *picker = [[UIDatePicker alloc] init];
</span><span class='line'>    picker.locale = [NSLocale localeWithLocaleIdentifier:@"zh"];
</span><span class='line'>    picker.datePickerMode = UIDatePickerModeDate;
</span><span class='line'>    self.birthDayTextfield.inputView = picker;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p><img src="../../images/datapicker.png" alt="datapicker" /><img src="/images/citypicker.png" alt="datapicker" /></p>

<ul>
<li>创建一个datepicker对象,赋值给textfield的inputView属性即可</li>
<li>其他就是修改下datepicker的属性,时区属性,日期时间显示属性</li>
<li>datepicker有默认的尺寸,不需要设置</li>
</ul>


<h2>二级联动键盘同时滚动,就有可能数组越界错误</h2>

<ul>
<li>(NSString <em>)pickerView:(UIPickerView </em>)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component会经常调用,要显示数据给界面</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#pragma mark -UIPickerView的代理
</span><span class='line'>- (NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component
</span><span class='line'>{
</span><span class='line'>    if (component == 0) {
</span><span class='line'>        HYWProvice *p = self.provinces[row];
</span><span class='line'>        return p.name;
</span><span class='line'>    }else{
</span><span class='line'>        NSInteger index = [pickerView selectedRowInComponent:0];
</span><span class='line'>        NSLog(@"%ld----%ld----%ld",index,[[self.provinces[index] cities] count],row);
</span><span class='line'>        HYWProvice *p = self.provinces[index];
</span><span class='line'>        return p.cities[row];
</span><span class='line'>    }
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>打印结果如下,这几种情况,[[self.provinces[index] cities] count]都小于row的值,因为必然        return p.cities[row]这句代码就会报错</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>2015-06-09 20:11:51.582 03 日期选择键盘[2039:57137] 7----4----5
</span><span class='line'>2015-06-09 20:11:51.582 03 日期选择键盘[2039:57137] 7----4----4
</span><span class='line'>2015-06-09 20:11:52.232 03 日期选择键盘[2039:57137] 7----4----6
</span><span class='line'>2015-06-09 20:11:52.299 03 日期选择键盘[2039:57137] 7----4----6
</span><span class='line'>2015-06-09 20:11:52.316 03 日期选择键盘[2039:57137] 7----4----7
</span><span class='line'>2015-06-09 20:11:52.316 03 日期选择键盘[2039:57137] 7----4----5
</span><span class='line'>2015-06-09 20:11:52.416 03 日期选择键盘[2039:57137] 7----4----7
</span><span class='line'>2015-06-09 20:11:52.417 03 日期选择键盘[2039:57137] 7----4----6
</span><span class='line'>2015-06-09 20:11:52.433 03 日期选择键盘[2039:57137] 7----4----8
</span><span class='line'>2015-06-09 20:11:52.550 03 日期选择键盘[2039:57137] 7----4----8
</span><span class='line'>2015-06-09 20:11:52.550 03 日期选择键盘[2039:57137] 7----4----7
</span><span class='line'>2015-06-09 20:11:52.583 03 日期选择键盘[2039:57137] 7----4----9
</span><span class='line'>2015-06-09 20:11:52.749 03 日期选择键盘[2039:57137] 7----4----9
</span><span class='line'>2015-06-09 20:11:52.750 03 日期选择键盘[2039:57137] 7----4----8</span></code></pre></td></tr></table></div></figure>


<ul>
<li>(void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component只有滚动停止才会调用,停止滚动记录每一列每一行对应的状态,供其他子控件设置数据,在次记录上次选中的省会</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>// 滚动UIPickerView就会调用
</span><span class='line'>- (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component
</span><span class='line'>{
</span><span class='line'>
</span><span class='line'>    if (component == 0) {
</span><span class='line'>        self.provinceIndex = row;
</span><span class='line'>        [pickerView reloadComponent:1];
</span><span class='line'>    }
</span><span class='line'>    HYWProvice *p = self.provinces[self.provinceIndex];
</span><span class='line'>    NSString *province = p.name;
</span><span class='line'>    NSInteger cityIndex = [pickerView selectedRowInComponent:1];
</span><span class='line'>    NSString *city = p.cities[cityIndex];
</span><span class='line'>    
</span><span class='line'>    self.cityTextfield.text = [NSString stringWithFormat:@"%@ %@",province,city];
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>把设置标题的代码修改如下,设置第2列数据,只根据上一次省份停止滚动记录下来的索引,获取城市数组</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component
</span><span class='line'>{
</span><span class='line'>    if (component == 0) {
</span><span class='line'>        HYWProvice *p = self.provinces[row];
</span><span class='line'>        return p.name;
</span><span class='line'>    }else{
</span><span class='line'>        HYWProvice *p = self.provinces[self.provinceIndex];
</span><span class='line'>        return p.cities[row];
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013-06-09-pickviewshi-yong-yu-dao-de-wen-ti/">pickView使用遇到的问题</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-09T10:30:01+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>9</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>10:30 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>为什么实现了代理标题方法,但是不显示标题</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component
</span><span class='line'>{
</span><span class='line'>    return @"s";
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>- (UIView *)pickerView:(UIPickerView *)pickerView viewForRow:(NSInteger)row forComponent:(NSInteger)component reusingView:(UIView *)view
</span><span class='line'>{
</span><span class='line'>    UIView *oneView = [[UIView alloc] init];
</span><span class='line'>    oneView.frame = CGRectMake(0, 0, 10, 10);
</span><span class='line'>    oneView.backgroundColor = HYWRandomColor;
</span><span class='line'>    return oneView;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>(UIView <em>)pickerView:(UIPickerView </em>)pickerView viewForRow:(NSInteger)row forComponent:(NSInteger)component reusingView:(UIView *)view</li>
<li>(NSString <em>)pickerView:(UIPickerView </em>)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component</li>
<li>上面两个方法同时实现,系统只会调用-pickerView: viewForRow: forComponent: reusingView:</li>
<li>pickerView数据显示实现view方法优先级高于title方法</li>
</ul>


<h3>为什么设置了pickerView选中方法,界面却不显示</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (IBAction)randomClick:(UIButton *)sender {
</span><span class='line'>    
</span><span class='line'>    NSInteger component = arc4random_uniform((u_int32_t)self.foods.count);
</span><span class='line'>    NSInteger row = arc4random_uniform((u_int32_t)[self.foods[component] count]);
</span><span class='line'>    
</span><span class='line'>    // 让pickerView选中某一行,不会触发代理的选中方法
</span><span class='line'>    [self.pickerView selectRow:row inComponent:component animated:YES];
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>// 只用用户主动选择才会调用
</span><span class='line'>- (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component
</span><span class='line'>{
</span><span class='line'>    switch (component) {
</span><span class='line'>        case 0:
</span><span class='line'>            self.fruitLabel.text = self.foods[0][row];
</span><span class='line'>            break;
</span><span class='line'>            
</span><span class='line'>        case 1:
</span><span class='line'>            self.mainLabel.text = self.foods[1][row];
</span><span class='line'>            break;
</span><span class='line'>            
</span><span class='line'>        case 2:
</span><span class='line'>            self.drinkLabel.text = self.foods[2][row];
</span><span class='line'>            break;
</span><span class='line'>    }
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>[self.pickerView selectRow:row inComponent:component animated:YES];</li>
<li>上面方法是pickView的对象方法,是跟pickerView显示相关的</li>
<li>[self pickerView:nil didSelectRow:row inComponent:component];</li>
<li>上面方法是pickView代理属性的方法,这里才是这只控制器界面label的显示</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>NSInteger component = arc4random_uniform(self.foods.count);
</span><span class='line'>// 报错:/Users/mac/Downloads/4月-5月IOS自学/IOS练习/6月9日 UIPickerView/01 点餐系统/01 点餐系统/ViewController.m:107:46: Implicit conversion loses integer precision: 'NSUInteger' (aka 'unsigned long') to 'u_int32_t' (aka 'unsigned int')
</span><span class='line'>NSInteger row = arc4random_uniform((u_int32_t)[self.foods[component] count]);</span></code></pre></td></tr></table></div></figure>


<ul>
<li>因为arc4random_uniform需要(u_int32_t)数据类型,所以需要强制转换</li>
</ul>


<h3>KVC工作原理</h3>

<ul>
<li>KVC先去遍历字典里面所有的key根据key值,例如name</li>
<li>先去模型中找setName,有就直接赋值</li>
<li>没有就找_name,有就给这个指针赋值</li>
<li>没有接着找name,如果还没有就报错</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>    [self setValuesForKeysWithDictionary:dict];
</span><span class='line'>    会自动调用模型的- (void)setIcon:(NSString *)icon方法</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013-06-08-wei-bo-xiang-mu-zhong-yu-dao-de-wen-ti/">多控制器项目中底部TabBar适配遇到的问题</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-08T21:47:04+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>9:47 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="../..//images/bottomTabbar.png" alt="TabBarAutolayout" />
<img src="../..//images/bottomTabBar2.png" alt="TabBarAutoLayout2" /></p>

<h4>在HYWTabBarController的viewDidLoad中无法获得tabBar的子控件</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)viewDidLoad {
</span><span class='line'>    [super viewDidLoad];
</span><span class='line'>    
</span><span class='line'>    [self addOneChildViewController:[HYWHomeController class] title:@"首页" image:@"tabbar_home" selectedImage:@"tabbar_home_selected"];
</span><span class='line'>    
</span><span class='line'>    [self addOneChildViewController:[HYWHomeController class] title:@"消息" image:@"tabbar_message_center" selectedImage:@"tabbar_message_center_selected"];
</span><span class='line'>    
</span><span class='line'>    [self addOneChildViewController:[HYWHomeController class] title:@"发现" image:@"tabbar_discover" selectedImage:@"tabbar_discover_selected"];
</span><span class='line'>    
</span><span class='line'>    [self addOneChildViewController:[HYWHomeController class] title:@"我" image:@"tabbar_profile" selectedImage:@"tabbar_profile_selected"];
</span><span class='line'>    
</span><span class='line'>    NSLog(@"%@",self.tabBar.subviews);
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>打印结果如下</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>2015-06-08 21:48:59.706 微博项目[2501:75832] (
</span><span class='line'>)</span></code></pre></td></tr></table></div></figure>


<ul>
<li>因为在viewDidLoad中tabBar的子控件还没有创建,必须在viewDidAppear:</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)viewDidAppear:(BOOL)animated
</span><span class='line'>{
</span><span class='line'>        NSLog(@"%@",self.tabBar.subviews);
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>
- 打印结果如下</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>2015-06-08 21:52:22.202 微博项目[2555:77668] (
</span><span class='line'>    "&lt;_UITabBarBackgroundView: 0x7fb96202e130; frame = (0 0; 375 49); autoresize = W; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7fb962049230&gt;&gt;",
</span><span class='line'>    "&lt;UITabBarButton: 0x7fb96219ca00; frame = (2 1; 90 48); opaque = NO; layer = &lt;CALayer: 0x7fb9621a10c0&gt;&gt;",
</span><span class='line'>    "&lt;UITabBarButton: 0x7fb9621a8140; frame = (96 1; 90 48); opaque = NO; layer = &lt;CALayer: 0x7fb9621131c0&gt;&gt;",
</span><span class='line'>    "&lt;UITabBarButton: 0x7fb9621ae7f0; frame = (190 1; 89 48); opaque = NO; layer = &lt;CALayer: 0x7fb9621aeda0&gt;&gt;",
</span><span class='line'>    "&lt;UITabBarButton: 0x7fb9621b3a80; frame = (283 1; 90 48); opaque = NO; layer = &lt;CALayer: 0x7fb9621b4ec0&gt;&gt;",
</span><span class='line'>    "&lt;UIImageView: 0x7fb9620074e0; frame = (0 -0.5; 375 0.5); autoresize = W; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7fb96203d1e0&gt;&gt;"
</span><span class='line'>)
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>tabBar的子空间的frame无法修改</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)viewDidAppear:(BOOL)animated
</span><span class='line'>{
</span><span class='line'>    for (UIView *child in self.tabBar.subviews) {
</span><span class='line'>        if ([child isKindOfClass:[UIControl class]]) {
</span><span class='line'>            child.frame = CGRectMake(0, 0, 100, 100);
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>运行之后,底部的按钮的位置还是没变,是因为在我们算了frame之后,系统又会把frame改回去</li>
<li>此处必须为[UIControl class],因为ITabBarButton是一个只能系统用的类</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013-06-08-fei-deng-gao-cellde-tableviewyong-fa/">非等高cell的TableView用法</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-08T09:46:23+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>9:46 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>xib自定义cell</h2>

<ul>
<li>在模型中增加一个cellHeight属性，用来存放对应cell的高度</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/**计算cell高度 */
</span><span class='line'>@property (nonatomic, assign) CGFloat cellheight;</span></code></pre></td></tr></table></div></figure>


<ul>
<li>在cell的模型属性set方法中调用[self layoutIfNeed]方法强制布局，然后计算出模型的cellheight属性值</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>- (void)setStatus:(HYWStatus *)status
</span><span class='line'>{
</span><span class='line'>    _status = status;
</span><span class='line'>    self.nameView.text = status.name;
</span><span class='line'>    self.iconVeiw.image = [UIImage imageNamed:status.icon];
</span><span class='line'>    self.contentLabel.text = status.text;
</span><span class='line'>    if (status.isVip) {
</span><span class='line'>        self.vipView.hidden = NO;
</span><span class='line'>        self.nameView.textColor = [UIColor redColor];
</span><span class='line'>        self.vipView.image = [UIImage imageNamed:@"vip"];
</span><span class='line'>    }else{
</span><span class='line'>        self.nameView.textColor = [UIColor blackColor];
</span><span class='line'>        self.vipView.hidden = YES;
</span><span class='line'>    }
</span><span class='line'>    if (status.picture) {
</span><span class='line'>        self.pictureView.hidden = NO;
</span><span class='line'>        self.pictureView.image = [UIImage imageNamed:status.picture];
</span><span class='line'>    }else{
</span><span class='line'>        self.pictureView.hidden = YES;
</span><span class='line'>    }
</span><span class='line'>    [self layoutIfNeeded];
</span><span class='line'>    if (status.picture) {
</span><span class='line'>        status.cellheight = CGRectGetMaxY(self.pictureView.frame) + 10;
</span><span class='line'>    }
</span><span class='line'>    else {
</span><span class='line'>        status.cellheight = CGRectGetMaxY(self.contentLabel.frame) + 10;
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>在控制器中实现tableView:estimatedHeightForRowAtIndexPath:方法，返回一个估计高度，比如200</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (CGFloat)tableView:(UITableView *)tableView estimatedHeightForRowAtIndexPath:(NSIndexPath *)indexPath
</span><span class='line'>{
</span><span class='line'>    return 200;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>在控制器中实现tableView:heightForRowAtIndexPath:方法，返回cell的真实高度（模型中的cellHeight属性）</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
</span><span class='line'>{
</span><span class='line'>    
</span><span class='line'>    HYWStatus *status = self.statuses[indexPath.row];
</span><span class='line'>    return status.cellheight;
</span><span class='line'>    
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h2>代码自定义cell（Autolayout）</h2>

<ul>
<li>添加初始化各个子控件,可以使用懒加载</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (UIImageView *)iconView
</span><span class='line'>{
</span><span class='line'>    if (_iconView == nil) {
</span><span class='line'>        _iconView = [[UIImageView alloc] init];
</span><span class='line'>        [self.contentView addSubview:_iconView];
</span><span class='line'>    }
</span><span class='line'>    return _iconView;
</span><span class='line'>}
</span><span class='line'>- (UILabel *)nameLabel
</span><span class='line'>{
</span><span class='line'>    if (_nameLabel == nil) {
</span><span class='line'>        _nameLabel = [[UILabel alloc] init];
</span><span class='line'>        _nameLabel.font = [UIFont systemFontOfSize:14];
</span><span class='line'>        [self.contentView addSubview:_nameLabel];
</span><span class='line'>    }
</span><span class='line'>    return _nameLabel;
</span><span class='line'>}
</span><span class='line'>- (UIImageView *)vipView
</span><span class='line'>{
</span><span class='line'>    if (_vipView == nil) {
</span><span class='line'>        _vipView = [[UIImageView alloc] init];
</span><span class='line'>        [self.contentView addSubview:_vipView];
</span><span class='line'>    }
</span><span class='line'>    return _vipView;
</span><span class='line'>}
</span><span class='line'>- (UILabel *)contentLabel
</span><span class='line'>{
</span><span class='line'>    if (_contentLabel == nil) {
</span><span class='line'>        _contentLabel = [[UILabel alloc] init];
</span><span class='line'>        //        _contentLabel.preferredMaxLayoutWidth = [UIScreen mainScreen].bounds.size.width - 20;
</span><span class='line'>        _contentLabel.font = [UIFont systemFontOfSize:16];
</span><span class='line'>        _contentLabel.textColor = [UIColor colorWithWhite:0.0 alpha:0.5];
</span><span class='line'>        _contentLabel.numberOfLines = 0;
</span><span class='line'>        [self.contentView addSubview:_contentLabel];
</span><span class='line'>    }
</span><span class='line'>    return _contentLabel;
</span><span class='line'>}
</span><span class='line'>- (UIImageView *)pictureView
</span><span class='line'>{
</span><span class='line'>    if (_pictureView == nil) {
</span><span class='line'>        _pictureView = [[UIImageView alloc] init];
</span><span class='line'>        [self.contentView addSubview:_pictureView];
</span><span class='line'>    }
</span><span class='line'>    return _pictureView;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>在initWithStyle: reuseIdentifier:方法中初始化设置子控件约束</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (instancetype)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier
</span><span class='line'>{
</span><span class='line'>    if (self = [super initWithStyle:style reuseIdentifier:reuseIdentifier]) {
</span><span class='line'>        [self.iconView makeConstraints:^(MASConstraintMaker *make) {
</span><span class='line'>            make.left.equalTo(self.contentView.left).offset(10);
</span><span class='line'>            make.top.equalTo(self.contentView.top).offset(10);
</span><span class='line'>            make.width.height.equalTo(40);
</span><span class='line'>        }];
</span><span class='line'>        
</span><span class='line'>        [self.nameLabel makeConstraints:^(MASConstraintMaker *make) {
</span><span class='line'>            make.left.equalTo(self.iconView.right).offset(10);
</span><span class='line'>            make.top.equalTo(self.contentView.top).offset(10);
</span><span class='line'>        }];
</span><span class='line'>        
</span><span class='line'>        [self.vipView makeConstraints:^(MASConstraintMaker *make) {
</span><span class='line'>            make.left.equalTo(self.nameLabel.right).offset(10);
</span><span class='line'>            make.centerY.equalTo(self.nameLabel.centerY);
</span><span class='line'>            make.width.height.equalTo(14);
</span><span class='line'>        }];
</span><span class='line'>        
</span><span class='line'>        [self.contentLabel makeConstraints:^(MASConstraintMaker *make) {
</span><span class='line'>            make.left.equalTo(self.contentView.left).offset(10);
</span><span class='line'>            make.top.equalTo(self.iconView.bottom).offset(10);
</span><span class='line'>            make.right.equalTo(self.contentView.right).offset(-10);
</span><span class='line'>        }];
</span><span class='line'>        
</span><span class='line'>        [self.pictureView makeConstraints:^(MASConstraintMaker *make) {
</span><span class='line'>            make.top.equalTo(self.contentLabel.bottom).offset(10);
</span><span class='line'>            make.left.equalTo(self.contentView.left).offset(10);
</span><span class='line'>            make.width.equalTo(100);
</span><span class='line'>            make.height.equalTo(150);
</span><span class='line'>        }];
</span><span class='line'>    }
</span><span class='line'>    return self;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>给自定义cell增加一个模型属性,并且重写模型的set方法</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)setStatus:(HYWStatus *)status
</span><span class='line'>{
</span><span class='line'>    _status = status;
</span><span class='line'>    self.iconView.image = [UIImage imageNamed:status.icon];
</span><span class='line'>    self.nameLabel.text = status.name;
</span><span class='line'>    self.contentLabel.text = status.text;
</span><span class='line'>    if (status.isVip) {
</span><span class='line'>        self.vipView.hidden = NO;
</span><span class='line'>        self.nameLabel.textColor = [UIColor redColor];
</span><span class='line'>        self.vipView.image = [UIImage imageNamed:@"vip"];
</span><span class='line'>    }else{
</span><span class='line'>        self.nameLabel.textColor = [UIColor blackColor];
</span><span class='line'>        self.vipView.hidden = YES;
</span><span class='line'>    }
</span><span class='line'>    if (status.picture) {
</span><span class='line'>        self.pictureView.hidden = NO;
</span><span class='line'>        self.pictureView.image = [UIImage imageNamed:status.picture];
</span><span class='line'>    }else{
</span><span class='line'>        self.pictureView.hidden = YES;
</span><span class='line'>    }
</span><span class='line'>    [self layoutIfNeeded];
</span><span class='line'>    if (status.picture) {
</span><span class='line'>        status.cellheight = CGRectGetMaxY(self.pictureView.frame) + 10;
</span><span class='line'>    }else{
</span><span class='line'>        status.cellheight = CGRectGetMaxY(self.contentLabel.frame) + 10;
</span><span class='line'>    }
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>在控制器总给自定义cell注册重利用标签</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)viewDidLoad {
</span><span class='line'>    [super viewDidLoad];
</span><span class='line'>    [self.tableView registerClass:[HYWStatusCellTableViewCell class] forCellReuseIdentifier:@"status"];
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>在控制器中设置tableView的代理方法显示数据和高度</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#pragma mark - Table view data source
</span><span class='line'>
</span><span class='line'>- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {
</span><span class='line'>    return 1;
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
</span><span class='line'>    
</span><span class='line'>    return self.statuses.count;
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
</span><span class='line'>
</span><span class='line'>    HYWStatusCellTableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"status"];
</span><span class='line'>    
</span><span class='line'>    cell.status = self.statuses[indexPath.row];
</span><span class='line'>
</span><span class='line'>    
</span><span class='line'>    return cell;
</span><span class='line'>}
</span><span class='line'>- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
</span><span class='line'>{
</span><span class='line'>    HYWStatus *status = self.statuses[indexPath.row];
</span><span class='line'>    return status.cellheight;
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>- (CGFloat)tableView:(UITableView *)tableView estimatedHeightForRowAtIndexPath:(NSIndexPath *)indexPath
</span><span class='line'>{
</span><span class='line'>    return 180;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h2>数据刷新方法</h2>

<ul>
<li>重新刷新屏幕上的所有cell<br></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[self.tableView reloadData];</span></code></pre></td></tr></table></div></figure>


<ul>
<li>刷新特定行的cell<br></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[self.tableView reloadRowsAtIndexPaths:@[
</span><span class='line'>        [NSIndexPath indexPathForRow:0 inSection:0],
</span><span class='line'>        [NSIndexPath indexPathForRow:1 inSection:0]
</span><span class='line'>        ]
</span><span class='line'>        withRowAnimation:UITableViewRowAnimationLeft];</span></code></pre></td></tr></table></div></figure>


<ul>
<li>插入特定行数的cell</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[self.tableView insertRowsAtIndexPaths:@[
</span><span class='line'>        [NSIndexPath indexPathForRow:0 inSection:0],
</span><span class='line'>        [NSIndexPath indexPathForRow:1 inSection:0]
</span><span class='line'>        ]
</span><span class='line'>        withRowAnimation:UITableViewRowAnimationLeft];</span></code></pre></td></tr></table></div></figure>


<ul>
<li>删除特定行数的cell</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[self.tableView deleteRowsAtIndexPaths:@[
</span><span class='line'>        [NSIndexPath indexPathForRow:0 inSection:0],
</span><span class='line'>        [NSIndexPath indexPathForRow:1 inSection:0]
</span><span class='line'>        ]
</span><span class='line'>        withRowAnimation:UITableViewRowAnimationLeft];</span></code></pre></td></tr></table></div></figure>


<h2>数据刷新的原则</h2>

<ul>
<li>通过修改模型数据，来修改tableView的展示

<ul>
<li>先修改模型数据</li>
<li>再调用数据刷新方法</li>
</ul>
</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (IBAction)remove:(UIButton *)sender {
</span><span class='line'>    [self.tgs removeObjectAtIndex:0];
</span><span class='line'>    [self.tableView deleteRowsAtIndexPaths:@[[NSIndexPath indexPathForRow:0 inSection:0]] withRowAnimation:UITableViewRowAnimationFade];
</span><span class='line'>    if (self.tgs.count == 0) {
</span><span class='line'>        sender.enabled = NO;
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>- (IBAction)add:(id)sender {
</span><span class='line'>    HYWTg *tg = [[HYWTg alloc] init];
</span><span class='line'>    tg.title = [NSString stringWithFormat:@"孔乙己酒店"];
</span><span class='line'>    tg.price = @"89";
</span><span class='line'>    tg.buyCount = @"6978";
</span><span class='line'>    [self.tgs insertObject:tg atIndex:0];
</span><span class='line'>    NSIndexPath *path1 = [NSIndexPath indexPathForRow:0 inSection:0];
</span><span class='line'>    [self.tableView insertRowsAtIndexPaths:@[path1] withRowAnimation:UITableViewRowAnimationFade];
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>- (IBAction)refresh:(id)sender {
</span><span class='line'>    HYWTg *tg = self.tgs[2];
</span><span class='line'>    tg.price = [NSString stringWithFormat:@"%d",40 + arc4random()%10];
</span><span class='line'>    [self.tableView reloadRowsAtIndexPaths:@[[NSIndexPath indexPathForRow:2 inSection:0]] withRowAnimation:UITableViewRowAnimationFade];
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>不要直接修改cell上面子控件的属性</li>
</ul>


<h2>批量删除TableView表格的方法</h2>

<ul>
<li>改模型的思路,先在模型中添加一个属性标示是否选中</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/**标识是否选中 */
</span><span class='line'>@property (nonatomic, assign, getter=isChecked) BOOL checked;</span></code></pre></td></tr></table></div></figure>


<ul>
<li>在自定义cell的set方法中,根据模型check属性设置标识</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)setTg:(HYWTg *)tg
</span><span class='line'>{
</span><span class='line'>    _tg = tg;
</span><span class='line'>    self.iconView.image = [UIImage imageNamed:tg.icon];
</span><span class='line'>    self.butCountLabel.text = [NSString stringWithFormat:@"已有 %@人购买",tg.buyCount];
</span><span class='line'>    self.priceLabel.text = [NSString stringWithFormat:@"价格:￥%@",tg.price];
</span><span class='line'>    self.checkView.image = [UIImage imageNamed:@"check"];
</span><span class='line'>    self.checkView.hidden = !tg.isChecked;
</span><span class='line'>    self.titleLabel.text = tg.title;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>在控制器的TableView点击代理方法中修改模型,并且刷新cell显示</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
</span><span class='line'>{
</span><span class='line'>    [self.tableView deselectRowAtIndexPath:indexPath animated:YES];
</span><span class='line'>    HYWTg *tg = self.tgs[indexPath.row];
</span><span class='line'>    tg.checked = !tg.isChecked;
</span><span class='line'>    [self.tableView reloadRowsAtIndexPaths:@[[NSIndexPath indexPathForRow:indexPath.row inSection:indexPath.section]] withRowAnimation:UITableViewRowAnimationFade];
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>在控制器中监控批量删除按钮的点击事件,删模型数组,刷新表格</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (IBAction)mulitiplyOpretion:(id)sender {
</span><span class='line'>    for (HYWTg *tg in self.tgs) {
</span><span class='line'>        if (tg.isChecked) [self.deleteArray addObject:tg];
</span><span class='line'>    }
</span><span class='line'>    [self.tgs removeObjectsInArray:self.deleteArray];
</span><span class='line'>    [self.tableView reloadData];
</span><span class='line'>    self.deleteArray = nil;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013-06-08-%E8%87%AA%E5%AE%9A%E4%B9%89cell%E5%90%84%E7%A7%8D%E6%83%85%E5%86%B5/">各种自定义cell的用法</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-08T01:18:23+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>1:18 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>自定义cell</h1>

<h2>等高的cell</h2>

<h3>一、storyboard自定义cell</h3>

<h4>1.创建一个继承自UITableViewCell的子类，比如HYWDealCell<br></h4>

<p><img src="../../images/Snip20150602_305.png" alt="" /></p>

<h4>2.在storyboard中</h4>

<ul>
<li> 往cell里面增加需要用到的子控件<br>
<img src="../../images/Snip20150602_302.png" alt="" /></li>
<li> 设置cell的重用标识<br>
<img src="../../images/Snip20150602_303.png" alt="" /></li>
<li> 设置cell的class为HYWDealCell<br>
<img src="../../images/Snip20150602_304.png" alt="" />

<h4>3.在控制器中</h4></li>
<li> 利用重用标识找到cell</li>
<li> 给cell传递模型数据<br>
<img src="../../images/Snip20150602_301.png" alt="" />

<h4>4.在HYWDealCell中</h4></li>
<li> 将storyboard中的子控件连线到类扩展中<br>
<img src="../../images/Snip20150602_299.png" alt="" /></li>
<li> 需要提供一个模型属性，重写模型的set方法，在这个方法中设置模型数据到子控件上<br>
<img src="../../images/Snip20150602_298.png" alt="" />
<img src="../../images/Snip20150602_300.png" alt="" /></li>
</ul>


<h3>二、xib自定义cell</h3>

<h4>1.创建一个继承自UITableViewCell的子类，比如HYWDealCell<br></h4>

<h4>2.创建一个xib文件（文件名建议跟cell的类名一样），比如HYWDealCell.xib</h4>

<ul>
<li> 拖拽一个UITableViewCell出来</li>
<li> 修改cell的class为HYWDealCell</li>
<li> 设置cell的重用标识</li>
<li> 往cell中添加需要用到的子控件</li>
</ul>


<h4>3.在控制器中</h4>

<ul>
<li>利用registerNib&hellip;方法注册xib文件</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>UINib *nib = [UINib nibWithNibName:@"HYWTgCell" bundle:nil];
</span><span class='line'>[self.tableView registerNib:nib forCellReuseIdentifier:@"tuangou"];</span></code></pre></td></tr></table></div></figure>


<ul>
<li>利用重用标识找到cell（如果没有注册xib文件，就需要手动去加载xib文件）</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>HYWTgCell *cell = [tableView dequeueReusableCellWithIdentifier:@"tuangou"];
</span><span class='line'>if (cell == nil) {
</span><span class='line'>    cell = [[[NSBundle mainBundle] loadNibNamed:@"HYWTgCell" owner:nil options:nil] lastObject];
</span><span class='line'>}
</span><span class='line'>return cell;</span></code></pre></td></tr></table></div></figure>


<h4>4.在HYWDealCell中</h4>

<ul>
<li> 将xib中的子控件连线到类扩展中</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>@interface HYWTgCell()
</span><span class='line'>@property (weak, nonatomic) IBOutlet UIImageView *iconView;
</span><span class='line'>@property (weak, nonatomic) IBOutlet UILabel *butCountLabel;
</span><span class='line'>@property (weak, nonatomic) IBOutlet UILabel *priceLabel;
</span><span class='line'>@property (weak, nonatomic) IBOutlet UILabel *titleLabel;
</span><span class='line'>
</span><span class='line'>@end</span></code></pre></td></tr></table></div></figure>


<ul>
<li> 需要提供一个模型属性，重写模型的set方法，在这个方法中设置模型数据到子控件上</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)setTg:(HYWTg *)tg
</span><span class='line'>{
</span><span class='line'>    _tg = tg;
</span><span class='line'>    self.iconView.image = [UIImage imageNamed:tg.icon];
</span><span class='line'>    self.butCountLabel.text = [NSString stringWithFormat:@"已有 %@人购买",tg.buyCount];
</span><span class='line'>    self.priceLabel.text = [NSString stringWithFormat:@"价格:￥%@",tg.price];
</span><span class='line'>    self.titleLabel.text = tg.title;</span></code></pre></td></tr></table></div></figure>


<ul>
<li> 也可以将创建获得cell的代码封装起来（比如cellWithTableView:方法）</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>+ (HYWTgCell *)cellWithTableView:(UITableView *)tableView
</span><span class='line'>{
</span><span class='line'>    
</span><span class='line'>    HYWTgCell *cell = [tableView dequeueReusableCellWithIdentifier:@"tuangou"];
</span><span class='line'>    if (cell == nil) {
</span><span class='line'>        cell = [[[NSBundle mainBundle] loadNibNamed:@"HYWTgCell" owner:nil options:nil] lastObject];
</span><span class='line'>    }
</span><span class='line'>    return cell;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li> 给cell传递模型数据</li>
</ul>


<h3>三、代码自定义cell(使用frame)</h3>

<h4>1.创建一个继承自UITableViewCell的子类，比如HYWDealCell</h4>

<ul>
<li> 在initWithStyle:reuseIdentifier:方法中

<ul>
<li> 添加子控件</li>
<li> 设置子控件的初始化属性（比如文字颜色、字体）</li>
</ul>
</li>
<li> 在layoutSubviews方法中设置子控件的frame</li>
<li> 需要提供一个模型属性，重写模型的set方法，在这个方法中设置模型数据到子控件</li>
</ul>


<h4>2.在控制器中</h4>

<ul>
<li>利用registerClass&hellip;方法注册HYWDealCell类</li>
<li>利用重用标识找到cell（如果没有注册类，就需要手动创建cell）</li>
<li>给cell传递模型数据</li>
<li>也可以将创建获得cell的代码封装起来（比如cellWithTableView:方法）</li>
</ul>


<h3>四、代码自定义cell(使用autolayout)</h3>

<h4>1.创建一个继承自UITableViewCell的子类，比如HYWDealCell</h4>

<ul>
<li> 在initWithStyle:reuseIdentifier:方法中

<ul>
<li> 添加子控件</li>
<li> 添加子控件的约束（建议使用**Masonry）</li>
<li> 设置子控件的初始化属性（比如文字颜色、字体）</li>
</ul>
</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (instancetype)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier
</span><span class='line'>{
</span><span class='line'>    self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
</span><span class='line'>    if (self) {
</span><span class='line'>        self.iconView = [[UIImageView alloc] init];
</span><span class='line'>        [self.contentView addSubview:self.iconView];
</span><span class='line'>        
</span><span class='line'>        self.titleLabel = [[UILabel alloc] init];
</span><span class='line'>        self.titleLabel.font = [UIFont systemFontOfSize:14];
</span><span class='line'>        [self.contentView addSubview:self.titleLabel];
</span><span class='line'>        
</span><span class='line'>        self.priceLabel = [[UILabel alloc] init];
</span><span class='line'>        self.priceLabel.font = [UIFont systemFontOfSize:16];
</span><span class='line'>        self.priceLabel.textColor = [UIColor colorWithHue:( arc4random() % 256 / 256.0 )
</span><span class='line'>                                               saturation:( arc4random() % 128 / 256.0 ) + 0.5
</span><span class='line'>                                               brightness:( arc4random() % 128 / 256.0 ) + 0.5
</span><span class='line'>                                                    alpha:1];
</span><span class='line'>        [self.contentView addSubview:self.priceLabel];
</span><span class='line'>        
</span><span class='line'>        self.buyCountLabel = [[UILabel alloc] init];
</span><span class='line'>        self.buyCountLabel.font = [UIFont systemFontOfSize:14];
</span><span class='line'>        self.buyCountLabel.textAlignment = NSTextAlignmentRight;
</span><span class='line'>        self.buyCountLabel.textColor = [UIColor grayColor];
</span><span class='line'>        [self.contentView addSubview:self.buyCountLabel];
</span><span class='line'>        
</span><span class='line'>        [self.iconView makeConstraints:^(MASConstraintMaker *make) {
</span><span class='line'>            make.left.top.equalTo(self.contentView).offset(10);
</span><span class='line'>            make.bottom.equalTo(self.contentView.bottom).offset(-10);
</span><span class='line'>            make.right.equalTo(self.titleLabel.left).offset(-10);
</span><span class='line'>            make.width.equalTo(self.iconView.height).multipliedBy(1.65);
</span><span class='line'>        }];
</span><span class='line'>        [self.titleLabel makeConstraints:^(MASConstraintMaker *make) {
</span><span class='line'>            make.top.equalTo(self.contentView).offset(10);
</span><span class='line'>            make.bottom.equalTo(self.priceLabel.top).offset(-10);
</span><span class='line'>        }];
</span><span class='line'>        [self.priceLabel makeConstraints:^(MASConstraintMaker *make) {
</span><span class='line'>            make.left.equalTo(self.titleLabel.left);
</span><span class='line'>            make.bottom.equalTo(self.contentView.bottom).offset(-10);
</span><span class='line'>            make.width.equalTo(120);
</span><span class='line'>        }];
</span><span class='line'>        [self.buyCountLabel makeConstraints:^(MASConstraintMaker *make) {
</span><span class='line'>            make.left.equalTo(self.priceLabel.right).offset(10);
</span><span class='line'>            make.right.equalTo(self.contentView.right).offset(-10);
</span><span class='line'>            make.centerY.equalTo(self.priceLabel.centerY);
</span><span class='line'>        }];
</span><span class='line'>    }
</span><span class='line'>    return self;
</span><span class='line'>}
</span><span class='line'>   </span></code></pre></td></tr></table></div></figure>


<ul>
<li> 需要提供一个模型属性，重写模型的set方法，在这个方法中设置模型数据到子控件</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (void)setTg:(HYWTg *)tg
</span><span class='line'>{
</span><span class='line'>    _tg = tg;
</span><span class='line'>    self.iconView.image = [UIImage imageNamed:tg.icon];
</span><span class='line'>    self.titleLabel.text = tg.title;
</span><span class='line'>    self.priceLabel.text = [NSString stringWithFormat:@"价格:￥%@",tg.price];
</span><span class='line'>    self.buyCountLabel.text = [NSString stringWithFormat:@"有%@个人购买",tg.buyCount];
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h4>2.在控制器中</h4>

<ul>
<li> 利用registerClass&hellip;方法注册HYWDealCell类</li>
<li> 利用重用标识找到cell（如果没有注册类，就需要手动创建cell）</li>
<li> 给cell传递模型数据</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
</span><span class='line'>{
</span><span class='line'>    HYWTGCell *cell = [HYWTGCell cellWithTableView:tableView];
</span><span class='line'>    cell.tg = self.tgs[indexPath.row];
</span><span class='line'>    return cell;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li> 也可以将创建获得cell的代码封装起来（比如cellWithTableView:方法）</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>+ (instancetype)cellWithTableView:(UITableView *)tableView
</span><span class='line'>{
</span><span class='line'>    static NSString *ID = @"tuangou";
</span><span class='line'>    HYWTGCell *cell = [tableView dequeueReusableCellWithIdentifier:ID];
</span><span class='line'>    if (cell == nil) {
</span><span class='line'>            NSLog(@"%s",__func__);
</span><span class='line'>        cell = [[self alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:ID];
</span><span class='line'>    }
</span><span class='line'>    return cell;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/7">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/5">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015-09-15-ji-shi-tong-xun-ji-zhu/">即时通讯技术</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015-05-29-ioslan-ya-4-dot-0kai-fa/">iOS蓝牙4.0开发</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015-05-11-nsscannerchu-li-fu-wu-qi-shu-ju-yi-chang-,-shu-ju-chu-li/">NSScanner处理服务器数据异常、数据处理</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015-04-07-gcdde-di-ceng-yi-ji-gcdde-miao-yong/">GCD的底层以及GCD的妙用</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015-03-29-html5chang-yong-kuang-jia/">未来的技术 - HTML5</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015-02-27-shen-ru-yan-jiu-cadisplaylinkhe-nstimer/">深入研究CADisplayLink和NSTimer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015-02-19-er-wei-ma-zhi-zuo/">二维码制作</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-08-30-shu-ju-jie-xi-mo-xing-she-zhi-de-ji-qiao/">数据解析模型设置的技巧</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-08-10-popmenucontrollerzhu-yi-shi-xiang/">popMenuController注意事项</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-08-08-zi-ding-yi-kong-jian-feng-zhuang-de-zhu-yi-shi-xiang/">自定义控件封装的注意事项</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-08-07-textfieldhe-textviewde-qu-bie/">Textfield和TextView的区别</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-08-06-appearancetong-%5B%3F%5D-she-zhi-zhu-ti-de-wen-ti/">Appearance统一设置主题的问题</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-08-05-webviewjia-zai-jin-du-tiao-de-bu-kai-fang-he-chang-jian-jie-jue-fang-an/">webView加载进度条的不开放和常见解决方案</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-08-05-bai-si-bu-de-jie-zong-jie-8yue-5ri/">Modal出来的控制器再modal一个控制器的问题</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-08-04-layer-dot-cornerradiusxing-neng-wen-ti-ji-jie-jue-fang-an/">layer.cornerRadius性能问题及解决方案</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-08-03-bai-si-bu-de-jie-xiang-mu-geng-duo-zong-jie/">让一个普通控件弹出menuController的步骤</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-08-02-bai-si-bu-de-jie-xiang-mu-zong-jie/">多组表格网络请求加载失败可能引发的小问题</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-07-30-bai-si-bu-de-jie-xiang-mu-zong-jie/">Facebook第三方框架pop动画</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-07-29-bai-si-bu-de-jie-xiang-mu-zong-jie/">Quartz实现image缩放的技巧</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-07-26-gao-fang-bai-si-bu-de-jie-zong-jie/">Textfield魔法效果实现</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Heew -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
